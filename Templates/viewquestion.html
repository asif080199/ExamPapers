{% extends 'base.html' %}
{% load dajaxice_templatetags %}
{% block html_head %}
    {% dajaxice_js_import %}
    <script>
		function toggleAns(button_id) {
			var ele_name = "sol";
			var ele = document.getElementById(ele_name);
			var text = document.getElementById(button_id);
			if(ele.style.display == "block") {
					ele.style.display = "none";
				text.value = "View Solution";
			}
			else {
				ele.style.display = "block";
				text.value = "Hide Solution";
			}
		}
	</script>
	<script>
		function toggleSim(button_id) {
			var ele_name = "sim";
			var ele = document.getElementById(ele_name);
			var text = document.getElementById(button_id);
			if(ele.style.display != "inline") {
				ele.style.display = "inline";
			}
		}
	</script>
{% endblock %}

{% block content %}
	<div class = "col-sm-12"><label class="head">{{question.subtopic}} #  {{question.question_no}}</label></div>
    <div class="col-sm-9">
        <div class="accordion" id="accordion2">
		
		<div class="thumbnail ftext" >
			
			{{question.content|safe}}	
			{% for i in question.images%}
				{%if i.qa == 'Question'%}
					<br/><img src={{i.imagepath}} max-height="200px">
				{%endif %}				
			{% endfor %}
			<hr/>
			<input type="button" id="toggleans" name="toggleans" class="btn btn-inverse" onclick="toggleAns(this.id);"  value="View Solution"/>
			<div style = "display:none;" id="sol">
				{{question.solution|safe}}
				{% for i in question.images%}
				{%if i.qa ==  'Solution'%}
					<br/><img src={{i.imagepath}}>
				{%endif %}				
			{% endfor %}
			</div>
		</div>
		<div class="thumbnail ftext">
			<h4>Discussion</h4>
			{% with question as object %}{% include "comments.html" %}{% endwith %}
		</div>
        
		</div>
    </div>
	<div class="col-sm-3">
		<div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Question Info</h3>
            </div>
            <div class="panel-body">
				<ul class="ulnav">
					<li><b>Name:</b> {{question.subtopic}} #{{question.question_no}}</li>
					<li><b>Difficulty :</b> {%for s in question.stars%}{{s|safe}}{%endfor%}</li>
					<li><b>Subject:</b> {{cur.title}} Mathematics</li>
					<li><b>Topic:</b> {{question.topic}}</li>
					<li><b>Subtopic:</b> {{question.subtopic}}</li>
					<li><b>Tags:</b></li>
				</ul>
				{% for t in question.tagdef %}
					<a href = "/{{cur.id}}/tag/{{t.id}}"><button class="btn btn-default btn-sm" style = "margin:2px">{{t.title}}</button></a>
				{% endfor %}
			</div>
          </div>
		  <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Similar question</h3>
            </div>
            <div class="panel-body">
				<ul class="ulnav">
					{% for q in questions%}
					<li><a href = "/{{cur.id}}/view/{{q.id}}">{{q.subtopic}} #{{q.question_no}}</a></li>
					{% endfor%}
				</ul>
				<div style = "display:none;" id="sim">
					<ul class="ulnav">
						{% for q in moreQuestions%}
						<li><a href = "/{{cur.id}}/view/{{q.id}}">{{q.subtopic}} #{{q.question_no}}</a></li>
						{% endfor%}
					</ul>
				</div>
				<input type="button" id="toggleans" name="toggleans" class="btn btn-inverse" onclick="toggleSim(this.id);"  value="See more..."/>
          </div>
	</div>
	</div>
{% endblock %}